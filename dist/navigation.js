"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"){module.exports=factory()}else{root.navigation=factory()}})(typeof self!=="undefined"?self:void 0,function(){'use strict';var navigation={};var settings;var defaults={main:false,nav:false,orientation:"vertical",position:0};var navScrollState={position:0,top:0};var setMinHeight=function setMinHeight(){var navHeight=settings.nav.querySelector("ul").scrollHeight;var windowHeight=window.innerHeight;var minHeight=navHeight>windowHeight?navHeight+"px":windowHeight+"px";settings.main.style.minHeight=minHeight;settings.nav.style.minHeight=minHeight};var toggleSection=function toggleSection(event){var target=event.target;if(!(target instanceof HTMLAnchorElement)){return}if(!target.parentNode.children[1]){return}event.preventDefault();target.parentNode.classList.toggle("open");setMinHeight();positionNav()};var positionNav=function positionNav(){var windowTop=window.scrollY;var scrollDiff=navScrollState.top-windowTop;var navHeight=settings.nav.scrollHeight;var position=navScrollState.position;navScrollState.top=windowTop;if(settings.main.offsetHeight>navHeight){var upperBound=(navHeight-window.innerHeight)*-1;position=position+scrollDiff;if(position>0){position=0}if(position<upperBound){position=upperBound}settings.nav.style.top=position+"px";navScrollState.position=position}else{settings.nav.style.top="0"}};var extendDefaults=function extendDefaults(defaults,options){var property;for(property in options){if(Object.prototype.hasOwnProperty.call(options,property)){defaults[property]=options[property]}}return defaults};navigation.destroy=function(){if(!settings)return;settings.element.removeEventListener("click",toggleSection,false);if("vertical"===settings.orientation){document.removeEventListener("wheel",positionNav,{capture:true,passive:true})}settings=null};navigation.init=function(options){if(!options.nav||!options.main)return;navigation.destroy();settings=extendDefaults(defaults,options||{});settings.nav.addEventListener("click",toggleSection,false);if("vertical"===settings.orientation){document.addEventListener("wheel",positionNav,{capture:true,passive:true})}};return navigation});